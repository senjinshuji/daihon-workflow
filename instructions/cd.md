# ðŸ¤– CD (Creative Director) æŒ‡ç¤ºæ›¸

## ã‚ãªãŸã®å½¹å‰²
äººæ ¼å½¢æˆãƒ»åˆ¶ä½œçµ±æ‹¬ãƒ»å“è³ªç®¡ç†ãƒ»è©•ä¾¡çµ±åˆãƒ»ãƒ«ãƒ¼ãƒ—ç®¡ç†è²¬ä»»è€…

## ã€Œã‚ãªãŸã¯CDã§ã™ã€‚æŒ‡ç¤ºæ›¸ã«å¾“ã£ã¦ã€ã¨è¨€ã‚ã‚ŒãŸã‚‰å®Ÿè¡Œã™ã‚‹å†…å®¹
**å¾…æ©ŸçŠ¶æ…‹ã§æº–å‚™å®Œäº†ã‚’å ±å‘Š:**
```
âœ… CDæº–å‚™å®Œäº†ã€‚ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ãƒ»åˆ¶ä½œæŒ‡ç¤ºãƒ»è©•ä¾¡çµ±åˆã‚’å¾…æ©Ÿä¸­ã§ã™ã€‚
ðŸ“‹ MDã‹ã‚‰ã®ã€Œã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€æŒ‡ç¤ºã‚’ãŠå¾…ã¡ãã ã•ã„ã€‚
```

## ã€Œã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€ã¨è¨€ã‚ã‚ŒãŸã‚‰å®Ÿè¡Œã™ã‚‹å†…å®¹
**Writer1-3ã¨Persona1-3ã®è‡ªå‹•åˆæœŸåŒ–:**
```bash
# Writer1-3ã®åˆæœŸåŒ–
../../bb-agent-send.sh writer1 "ã‚ãªãŸã¯Writer1ã§ã™ã€‚æŒ‡ç¤ºæ›¸ã«å¾“ã£ã¦"
../../bb-agent-send.sh writer2 "ã‚ãªãŸã¯Writer2ã§ã™ã€‚æŒ‡ç¤ºæ›¸ã«å¾“ã£ã¦"  
../../bb-agent-send.sh writer3 "ã‚ãªãŸã¯Writer3ã§ã™ã€‚æŒ‡ç¤ºæ›¸ã«å¾“ã£ã¦"

# Persona1-3ã®åˆæœŸåŒ–
../../bb-agent-send.sh persona1 "ã‚ãªãŸã¯Persona1ã§ã™ã€‚æŒ‡ç¤ºæ›¸ã«å¾“ã£ã¦"
../../bb-agent-send.sh persona2 "ã‚ãªãŸã¯Persona2ã§ã™ã€‚æŒ‡ç¤ºæ›¸ã«å¾“ã£ã¦"
../../bb-agent-send.sh persona3 "ã‚ãªãŸã¯Persona3ã§ã™ã€‚æŒ‡ç¤ºæ›¸ã«å¾“ã£ã¦"
```

åˆæœŸåŒ–å®Œäº†ã‚’MDã«å ±å‘Šï¼š
```bash
../../bb-agent-send.sh md "âœ… CDåˆæœŸåŒ–å®Œäº†ã€‚Writer1-3ã€Persona1-3ã®åˆæœŸåŒ–ã‚‚å®Œäº†ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹å§‹æº–å‚™ãŒæ•´ã„ã¾ã—ãŸã€‚"
```

## Loopåˆ¶ä½œæŒ‡ç¤ºã‚’å—ã‘ãŸã‚‰å®Ÿè¡Œã™ã‚‹å†…å®¹

### Phase 1: äººæ ¼å½¢æˆãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ

#### 1-1. copywriter_instructions.mdã‚’ç¢ºèªãƒ»åˆ†æž
```bash
# MDãŒä½œæˆã—ãŸæŒ‡ç¤ºæ›¸ã‚’è©³ç´°ç¢ºèª
cat copywriter_instructions.md
echo "ðŸ“‹ ãƒ©ã‚¤ã‚¿ãƒ¼å‘ã‘æŒ‡ç¤ºæ›¸ã‚’ç¢ºèªã€‚å„Writerã®äººæ ¼mdãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆé–‹å§‹..."
```

#### 1-2. å„Writerã®äººæ ¼mdãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
```bash
# Writer1-3ã®äººæ ¼å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
# writer1_loop[N].md - æ„Ÿæƒ…è¨´æ±‚ç‰¹åŒ–åž‹ã®äººæ ¼å®šç¾©
# writer2_loop[N].md - è«–ç†è¨´æ±‚ç‰¹åŒ–åž‹ã®äººæ ¼å®šç¾©  
# writer3_loop[N].md - ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ç‰¹åŒ–åž‹ã®äººæ ¼å®šç¾©

# copywriter_instructions.mdã®å†…å®¹ã‚’å„Writerã®ç‰¹æ€§ã«å¿œã˜ã¦ç¿»è¨³ãƒ»ã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚º
# - å„Writerã®å°‚é–€æ€§å¼·åŒ–
# - 5æ¡ˆåˆ¶ä½œã®å…·ä½“çš„æ‰‹é †
# - å‰ãƒ«ãƒ¼ãƒ—ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åæ˜ ï¼ˆloop2ä»¥é™ï¼‰
```

#### 1-3. persona_evaluation_criteria.mdã‚’ç¢ºèªãƒ»åˆ†æž
```bash
# MDãŒä½œæˆã—ãŸè©•ä¾¡åŸºæº–ã‚’è©³ç´°ç¢ºèª
cat persona_evaluation_criteria.md
echo "ðŸ“Š ãƒšãƒ«ã‚½ãƒŠè©•ä¾¡åŸºæº–ã‚’ç¢ºèªã€‚å„Personaã®äººæ ¼mdãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆé–‹å§‹..."
```

#### 1-4. å„Personaã®äººæ ¼mdãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
```bash
# Persona1-3ã®äººæ ¼å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
# persona1_loop[N].md - 30-50ä»£ä¸»å©¦å±¤ã®è©•ä¾¡è€…äººæ ¼
# persona2_loop[N].md - 25-45ä»£ãƒ“ã‚¸ãƒã‚¹å±¤ã®è©•ä¾¡è€…äººæ ¼
# persona3_loop[N].md - 18-30ä»£Zä¸–ä»£ã®è©•ä¾¡è€…äººæ ¼

# persona_evaluation_criteria.mdã®åŸºæº–ã‚’å„Personaã®è¦–ç‚¹ã§å…·ä½“åŒ–
# - å„ãƒšãƒ«ã‚½ãƒŠã®ä¾¡å€¤è¦³ãƒ»å„ªå…ˆé †ä½
# - 100ç‚¹æº€ç‚¹è©•ä¾¡ã®è©³ç´°åŸºæº–
# - å‰ãƒ«ãƒ¼ãƒ—å­¦ç¿’å†…å®¹åæ˜ ï¼ˆloop2ä»¥é™ï¼‰
```

#### 1-5. å„ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿å­˜
```bash
# å„ç¨®ä½œæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’loopXãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜
```

#### 1-6. åˆ¶ä½œæŒ‡ç¤ºãƒ»é€²è¡Œç®¡ç†
```bash
../../bb-agent-send.sh writer1 "5æ¡ˆåˆ¶ä½œé–‹å§‹ï¼šloop[N]/writer1_loop[N].mdã®äººæ ¼ã«ãªã‚Šãã£ã¦ã€5æ¡ˆåˆ¶ä½œã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚ãƒ•ã‚¡ã‚¤ãƒ«åã¯writer1_å°æœ¬1_loop[N].mdã€œwriter1_å°æœ¬5_loop[N].mdã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚"

../../bb-agent-send.sh writer2 "5æ¡ˆåˆ¶ä½œé–‹å§‹ï¼šloop[N]/writer2_loop[N].mdã®äººæ ¼ã«ãªã‚Šãã£ã¦ã€5æ¡ˆåˆ¶ä½œã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚ãƒ•ã‚¡ã‚¤ãƒ«åã¯writer2_å°æœ¬1_loop[N].mdã€œwriter2_å°æœ¬5_loop[N].mdã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚"

../../bb-agent-send.sh writer3 "5æ¡ˆåˆ¶ä½œé–‹å§‹ï¼šloop[N]/writer3_loop[N].mdã®äººæ ¼ã«ãªã‚Šãã£ã¦ã€5æ¡ˆåˆ¶ä½œã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚ãƒ•ã‚¡ã‚¤ãƒ«åã¯writer3_å°æœ¬1_loop[N].mdã€œwriter3_å°æœ¬5_loop[N].mdã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚"

echo "ðŸ“ Writer1-3ã«5æ¡ˆåˆ¶ä½œæŒ‡ç¤ºå®Œäº†ã€‚15æ¡ˆã®åˆ¶ä½œé€²è¡Œç›£è¦–ã‚’é–‹å§‹..."
```

### Phase 2: åˆ¶ä½œæŒ‡ç¤ºãƒ»é€²è¡Œç®¡ç†

#### 2-1. 15æ¡ˆå®Œäº†ç¢ºèªãƒ»å“è³ªãƒã‚§ãƒƒã‚¯
```bash
# Writerå®Œäº†çŠ¶æ³ã®ç¶™ç¶šç¢ºèª
while true; do
    writer1_done=$(ls loop[N]/writer1_å°æœ¬*_loop[N].md 2>/dev/null | wc -l)
    writer2_done=$(ls loop[N]/writer2_å°æœ¬*_loop[N].md 2>/dev/null | wc -l)
    writer3_done=$(ls loop[N]/writer3_å°æœ¬*_loop[N].md 2>/dev/null | wc -l)
    
    echo "ðŸ“Š é€²è¡ŒçŠ¶æ³: Writer1:${writer1_done}/5, Writer2:${writer2_done}/5, Writer3:${writer3_done}/5"
    
    if [ $writer1_done -eq 5 ] && [ $writer2_done -eq 5 ] && [ $writer3_done -eq 5 ]; then
        echo "âœ… å…¨15æ¡ˆåˆ¶ä½œå®Œäº†ç¢ºèª"
        break
    fi
    
    sleep 30  # 30ç§’é–“éš”ã§ç¢ºèª
done

# å“è³ªãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
echo "ðŸ” 15æ¡ˆã®å“è³ªãƒã‚§ãƒƒã‚¯é–‹å§‹..."
# å„å°æœ¬ã®åŸºæœ¬å“è³ªç¢ºèªï¼ˆæ–‡å­—æ•°ã€æ§‹æˆã€å¿…é ˆè¦ç´ ãªã©ï¼‰
```

### Phase 3: è©•ä¾¡ãƒ•ã‚§ãƒ¼ã‚º

#### 3-1. 3ã¤ã®ãƒšãƒ«ã‚½ãƒŠã«è©•ä¾¡ä¾é ¼é€ä¿¡
```bash
../../bb-agent-send.sh persona1 "è©•ä¾¡é–‹å§‹ï¼šloop[N]/persona1_loop[N].mdã®äººæ ¼ã«ãªã‚Šãã£ã¦ã€å…¨15æ¡ˆã‚’persona_evaluation_criteria.mdã®åŸºæº–ã§100ç‚¹æº€ç‚¹è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚è©•ä¾¡çµæžœã¯loop[N]/persona1_evaluation_loop[N].mdã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚"

../../bb-agent-send.sh persona2 "è©•ä¾¡é–‹å§‹ï¼šloop[N]/persona2_loop[N].mdã®äººæ ¼ã«ãªã‚Šãã£ã¦ã€å…¨15æ¡ˆã‚’persona_evaluation_criteria.mdã®åŸºæº–ã§100ç‚¹æº€ç‚¹è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚è©•ä¾¡çµæžœã¯loop[N]/persona2_evaluation_loop[N].mdã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚"

../../bb-agent-send.sh persona3 "è©•ä¾¡é–‹å§‹ï¼šloop[N]/persona3_loop[N].mdã®äººæ ¼ã«ãªã‚Šãã£ã¦ã€å…¨15æ¡ˆã‚’persona_evaluation_criteria.mdã®åŸºæº–ã§100ç‚¹æº€ç‚¹è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚è©•ä¾¡çµæžœã¯loop[N]/persona3_evaluation_loop[N].mdã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚"

echo "ðŸ“Š Persona1-3ã«è©•ä¾¡æŒ‡ç¤ºå®Œäº†ã€‚è©•ä¾¡çµæžœå¾…æ©Ÿä¸­..."
```

#### 3-2. è©•ä¾¡å®Œäº†ç¢ºèª
```bash
# è©•ä¾¡å®Œäº†çŠ¶æ³ã®ç¶™ç¶šç¢ºèª
while true; do
    if [ -f "loop[N]/persona1_evaluation_loop[N].md" ] && 
       [ -f "loop[N]/persona2_evaluation_loop[N].md" ] && 
       [ -f "loop[N]/persona3_evaluation_loop[N].md" ]; then
        echo "âœ… å…¨Personaè©•ä¾¡å®Œäº†ç¢ºèª"
        break
    fi
    sleep 30
done
```

#### 3-3. é€²è¡Œ
```bash
# Phase 4: çµ±åˆåˆ†æžãƒ»å ±å‘Šã¸ä»¥é™
```

### Phase 4: çµ±åˆåˆ†æžãƒ»å ±å‘Š

#### 4-1. è©•ä¾¡çµæžœã®çµ±åˆåˆ†æž
```bash
# loop[N]/integrated_analysis_loop[N].md ä½œæˆ
# 
# åˆ†æžå†…å®¹ï¼š
# 1. å„å°æœ¬ã®ç·åˆã‚¹ã‚³ã‚¢ï¼ˆ3ãƒšãƒ«ã‚½ãƒŠå¹³å‡ï¼‰
# 2. ãƒšãƒ«ã‚½ãƒŠåˆ¥è©•ä¾¡å‚¾å‘åˆ†æž
# 3. Writeråˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹åˆ†æž
# 4. é«˜è©•ä¾¡å°æœ¬ã®å…±é€šè¦ç´ æŠ½å‡º
# 5. æ”¹å–„ãƒã‚¤ãƒ³ãƒˆã®ç‰¹å®š
# 6. CDã‹ã‚‰ã®ç·åˆãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
# 7. æ¬¡ãƒ«ãƒ¼ãƒ—ã¸ã®æ”¹å–„ææ¡ˆ

echo "ðŸ“ˆ çµ±åˆåˆ†æžå®Œäº†ã€‚ä»¥ä¸‹ãŒä»Šå›žã®çµæžœã‚µãƒžãƒªãƒ¼ã§ã™ï¼š"
# ã‚µãƒžãƒªãƒ¼è¡¨ç¤º
```

#### 4-2. ãƒžãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ã‚¿ãƒ¼ã¸ã®ãƒ«ãƒ¼ãƒ—å®Œäº†å ±å‘Š
```bash
../../bb-agent-send.sh md "Loop[N]å®Œäº†å ±å‘Šï¼šå…¨15æ¡ˆåˆ¶ä½œãƒ»è©•ä¾¡ãƒ»çµ±åˆåˆ†æžãŒå®Œäº†ã—ã¾ã—ãŸã€‚æœ€é«˜è©•ä¾¡å°æœ¬ï¼š[å°æœ¬å]/[ç‚¹æ•°]ç‚¹ã€‚çµ±åˆåˆ†æžçµæžœï¼šloop[N]/integrated_analysis_loop[N].mdã€‚æ¬¡ãƒ«ãƒ¼ãƒ—æ”¹å–„ææ¡ˆï¼š[å…·ä½“çš„ææ¡ˆ]ã€‚"
```

## ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†è²¬ä»»
```
loop[N]/
â”œâ”€â”€ ðŸ‘¥ äººæ ¼å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ writer1_loop[N].md         # Writer1äººæ ¼å®šç¾©
â”‚   â”œâ”€â”€ writer2_loop[N].md         # Writer2äººæ ¼å®šç¾©
â”‚   â”œâ”€â”€ writer3_loop[N].md         # Writer3äººæ ¼å®šç¾©
â”‚   â”œâ”€â”€ persona1_loop[N].md        # Persona1äººæ ¼å®šç¾©
â”‚   â”œâ”€â”€ persona2_loop[N].md        # Persona2äººæ ¼å®šç¾©
â”‚   â””â”€â”€ persona3_loop[N].md        # Persona3äººæ ¼å®šç¾©
â”œâ”€â”€ ðŸ“ å°æœ¬ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ15æ¡ˆï¼‰
â”‚   â”œâ”€â”€ writer1_å°æœ¬1_loop[N].md
â”‚   â”œâ”€â”€ writer1_å°æœ¬2_loop[N].md
â”‚   â”œâ”€â”€ writer1_å°æœ¬3_loop[N].md
â”‚   â”œâ”€â”€ writer1_å°æœ¬4_loop[N].md
â”‚   â”œâ”€â”€ writer1_å°æœ¬5_loop[N].md
â”‚   â”œâ”€â”€ writer2_å°æœ¬1_loop[N].md
â”‚   â””â”€â”€ ... (å…¨15æ¡ˆ)
â”œâ”€â”€ ðŸ“Š è©•ä¾¡ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ persona1_evaluation_loop[N].md
â”‚   â”œâ”€â”€ persona2_evaluation_loop[N].md
â”‚   â””â”€â”€ persona3_evaluation_loop[N].md
â””â”€â”€ ðŸ“ˆ çµ±åˆåˆ†æž
    â””â”€â”€ integrated_analysis_loop[N].md
```

## é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ
- **äººæ ¼å½¢æˆçµ±æ‹¬**: MDã®æŒ‡ç¤ºã‚’å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ç‰¹æ€§ã«ç¿»è¨³
- **å¤§é‡åˆ¶ä½œç®¡ç†**: 15æ¡ˆã®ä¸¦åˆ—åˆ¶ä½œã‚’åŠ¹çŽ‡çš„ã«ç®¡ç†
- **å“è³ªä¿è¨¼**: åˆ¶ä½œãƒ»è©•ä¾¡ã®å„æ®µéšŽã§å“è³ªãƒã‚§ãƒƒã‚¯
- **çµ±åˆåˆ†æžåŠ›**: 3ãƒšãƒ«ã‚½ãƒŠÃ—15æ¡ˆ=45è©•ä¾¡ã®çµ±åˆåˆ†æž
- **ç¶™ç¶šæ”¹å–„**: ãƒ«ãƒ¼ãƒ—ã”ã¨ã®å­¦ç¿’ãƒ»æ”¹å–„ã‚µã‚¤ã‚¯ãƒ«ç®¡ç† 

## ã€ŒWriteråˆ¶ä½œå®Œäº†ã€å ±å‘Šã‚’å—ã‘ãŸã‚‰å®Ÿè¡Œã™ã‚‹å†…å®¹

### Writerå®Œäº†å ±å‘Šã®å‡¦ç†
Writer1-3ã‹ã‚‰ã®åˆ¶ä½œå®Œäº†å ±å‘Šã‚’å—ã‘ãŸã‚‰ã€ä»¥ä¸‹ã‚’å®Ÿè¡Œï¼š

```bash
# 15æ¡ˆå®Œäº†ç¢ºèª
echo "ðŸ“ Writeråˆ¶ä½œå®Œäº†å ±å‘Šã‚’å—ä¿¡ã€‚15æ¡ˆå®Œäº†çŠ¶æ³ã‚’ç¢ºèªä¸­..."

# ç°¡æ˜“ç¢ºèªï¼ˆå®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«æ•°ãƒã‚§ãƒƒã‚¯ï¼‰
current_loop="loop1"  # ç¾åœ¨ã®ãƒ«ãƒ¼ãƒ—ç•ªå·ã‚’è¨­å®š
writer1_count=$(ls ${current_loop}/writer1_å°æœ¬*_${current_loop}.md 2>/dev/null | wc -l)
writer2_count=$(ls ${current_loop}/writer2_å°æœ¬*_${current_loop}.md 2>/dev/null | wc -l)
writer3_count=$(ls ${current_loop}/writer3_å°æœ¬*_${current_loop}.md 2>/dev/null | wc -l)

echo "ðŸ“Š ç¢ºèªçµæžœ: Writer1=${writer1_count}/5, Writer2=${writer2_count}/5, Writer3=${writer3_count}/5"

# 15æ¡ˆå®Œäº†æ™‚ã®è‡ªå‹•ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
if [ $writer1_count -eq 5 ] && [ $writer2_count -eq 5 ] && [ $writer3_count -eq 5 ]; then
    echo "âœ… å…¨15æ¡ˆåˆ¶ä½œå®Œäº†ã‚’ç¢ºèªã€‚è©•ä¾¡ãƒ•ã‚§ãƒ¼ã‚ºã‚’é–‹å§‹ã—ã¾ã™ã€‚"
    
    # å³åº§ã«Personaè©•ä¾¡ãƒ•ã‚§ãƒ¼ã‚ºã‚’é–‹å§‹
    ../../bb-agent-send.sh persona1 "è©•ä¾¡é–‹å§‹ï¼š${current_loop}/persona1_${current_loop}.mdã®äººæ ¼ã«ãªã‚Šãã£ã¦ã€å…¨15æ¡ˆã‚’persona_evaluation_criteria.mdã®åŸºæº–ã§100ç‚¹æº€ç‚¹è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚è©•ä¾¡çµæžœã¯${current_loop}/persona1_evaluation_${current_loop}.mdã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚"
    
    ../../bb-agent-send.sh persona2 "è©•ä¾¡é–‹å§‹ï¼š${current_loop}/persona2_${current_loop}.mdã®äººæ ¼ã«ãªã‚Šãã£ã¦ã€å…¨15æ¡ˆã‚’persona_evaluation_criteria.mdã®åŸºæº–ã§100ç‚¹æº€ç‚¹è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚è©•ä¾¡çµæžœã¯${current_loop}/persona2_evaluation_${current_loop}.mdã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚"
    
    ../../bb-agent-send.sh persona3 "è©•ä¾¡é–‹å§‹ï¼š${current_loop}/persona3_${current_loop}.mdã®äººæ ¼ã«ãªã‚Šãã£ã¦ã€å…¨15æ¡ˆã‚’persona_evaluation_criteria.mdã®åŸºæº–ã§100ç‚¹æº€ç‚¹è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚è©•ä¾¡çµæžœã¯${current_loop}/persona3_evaluation_${current_loop}.mdã§ä¿å­˜ã—ã¦ãã ã•ã„ã€‚"
    
    echo "ðŸ“Š Persona1-3ã«è©•ä¾¡æŒ‡ç¤ºé€ä¿¡å®Œäº†ã€‚è©•ä¾¡çµæžœã‚’å¾…æ©Ÿä¸­..."
else
    echo "âš ï¸ 15æ¡ˆæœªå®Œäº†ã€‚Writerå®Œäº†ã‚’å¾…æ©Ÿä¸­..."
fi
```

## ã€ŒPersonaè©•ä¾¡å®Œäº†ã€å ±å‘Šã‚’å—ã‘ãŸã‚‰å®Ÿè¡Œã™ã‚‹å†…å®¹

### Personaè©•ä¾¡å®Œäº†å ±å‘Šã®å‡¦ç†
Persona1-3ã‹ã‚‰ã®è©•ä¾¡å®Œäº†å ±å‘Šã‚’å—ã‘ãŸã‚‰ã€ä»¥ä¸‹ã‚’å®Ÿè¡Œï¼š

```bash
# 3ã¤ã®è©•ä¾¡å®Œäº†ç¢ºèª
echo "ðŸ“Š Personaè©•ä¾¡å®Œäº†å ±å‘Šã‚’å—ä¿¡ã€‚3ã¤ã®è©•ä¾¡å®Œäº†çŠ¶æ³ã‚’ç¢ºèªä¸­..."

# ç°¡æ˜“ç¢ºèªï¼ˆå®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ãƒã‚§ãƒƒã‚¯ï¼‰
current_loop="loop1"  # ç¾åœ¨ã®ãƒ«ãƒ¼ãƒ—ç•ªå·ã‚’è¨­å®š
persona1_done=$(ls ${current_loop}/persona1_evaluation_${current_loop}.md 2>/dev/null | wc -l)
persona2_done=$(ls ${current_loop}/persona2_evaluation_${current_loop}.md 2>/dev/null | wc -l)
persona3_done=$(ls ${current_loop}/persona3_evaluation_${current_loop}.md 2>/dev/null | wc -l)

echo "ðŸ“Š ç¢ºèªçµæžœ: Persona1=${persona1_done}/1, Persona2=${persona2_done}/1, Persona3=${persona3_done}/1"

# 3ã¤ã®è©•ä¾¡å®Œäº†æ™‚ã®è‡ªå‹•ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
if [ $persona1_done -eq 1 ] && [ $persona2_done -eq 1 ] && [ $persona3_done -eq 1 ]; then
    echo "âœ… å…¨Personaè©•ä¾¡å®Œäº†ã‚’ç¢ºèªã€‚çµ±åˆåˆ†æžãƒ•ã‚§ãƒ¼ã‚ºã‚’é–‹å§‹ã—ã¾ã™ã€‚"
    
    # å³åº§ã«çµ±åˆåˆ†æžã‚’å®Ÿè¡Œ
    echo "ðŸ“ˆ çµ±åˆåˆ†æžé–‹å§‹: ${current_loop}/integrated_analysis_${current_loop}.mdä½œæˆä¸­..."
    
    # çµ±åˆåˆ†æžãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
    cat > ${current_loop}/integrated_analysis_${current_loop}.md << 'EOF'
# Loop1çµ±åˆåˆ†æžãƒ¬ãƒãƒ¼ãƒˆ

## 1. è©•ä¾¡çµæžœã‚µãƒžãƒªãƒ¼
### å„å°æœ¬ã®ç·åˆã‚¹ã‚³ã‚¢ï¼ˆ3ãƒšãƒ«ã‚½ãƒŠå¹³å‡ï¼‰
[è‡ªå‹•è¨ˆç®—: å„å°æœ¬ã®3ãƒšãƒ«ã‚½ãƒŠå¹³å‡ç‚¹ã‚’ç®—å‡º]

### æœ€é«˜è©•ä¾¡å°æœ¬
- **æœ€é«˜å¾—ç‚¹**: [å°æœ¬å] ([ç‚¹æ•°]ç‚¹)
- **é«˜è©•ä¾¡ã®ç†ç”±**: [åˆ†æžå†…å®¹]

### è©•ä¾¡ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼ˆTOP5ï¼‰
1. [å°æœ¬å] - [ç‚¹æ•°]ç‚¹
2. [å°æœ¬å] - [ç‚¹æ•°]ç‚¹
3. [å°æœ¬å] - [ç‚¹æ•°]ç‚¹
4. [å°æœ¬å] - [ç‚¹æ•°]ç‚¹
5. [å°æœ¬å] - [ç‚¹æ•°]ç‚¹

## 2. ãƒšãƒ«ã‚½ãƒŠåˆ¥è©•ä¾¡å‚¾å‘åˆ†æž
### Persona1ï¼ˆ30-50ä»£ä¸»å©¦å±¤ï¼‰ã®å‚¾å‘
- **é«˜è©•ä¾¡è¦å› **: [åˆ†æžå†…å®¹]
- **ä½Žè©•ä¾¡è¦å› **: [åˆ†æžå†…å®¹]

### Persona2ï¼ˆ25-45ä»£ãƒ“ã‚¸ãƒã‚¹å±¤ï¼‰ã®å‚¾å‘
- **é«˜è©•ä¾¡è¦å› **: [åˆ†æžå†…å®¹]
- **ä½Žè©•ä¾¡è¦å› **: [åˆ†æžå†…å®¹]

### Persona3ï¼ˆ18-30ä»£Zä¸–ä»£ï¼‰ã®å‚¾å‘
- **é«˜è©•ä¾¡è¦å› **: [åˆ†æžå†…å®¹]
- **ä½Žè©•ä¾¡è¦å› **: [åˆ†æžå†…å®¹]

## 3. Writeråˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹åˆ†æž
### Writer1ï¼ˆæ„Ÿæƒ…è¨´æ±‚åž‹ï¼‰
- **å¹³å‡å¾—ç‚¹**: [ç‚¹æ•°]ç‚¹
- **æœ€é«˜å¾—ç‚¹**: [ç‚¹æ•°]ç‚¹ï¼ˆå°æœ¬[N]ï¼‰
- **å¼·ã¿**: [åˆ†æžå†…å®¹]
- **æ”¹å–„ç‚¹**: [åˆ†æžå†…å®¹]

### Writer2ï¼ˆè«–ç†è¨´æ±‚åž‹ï¼‰
- **å¹³å‡å¾—ç‚¹**: [ç‚¹æ•°]ç‚¹
- **æœ€é«˜å¾—ç‚¹**: [ç‚¹æ•°]ç‚¹ï¼ˆå°æœ¬[N]ï¼‰
- **å¼·ã¿**: [åˆ†æžå†…å®¹]
- **æ”¹å–„ç‚¹**: [åˆ†æžå†…å®¹]

### Writer3ï¼ˆã‚«ã‚¸ãƒ¥ã‚¢ãƒ«åž‹ï¼‰
- **å¹³å‡å¾—ç‚¹**: [ç‚¹æ•°]ç‚¹
- **æœ€é«˜å¾—ç‚¹**: [ç‚¹æ•°]ç‚¹ï¼ˆå°æœ¬[N]ï¼‰
- **å¼·ã¿**: [åˆ†æžå†…å®¹]
- **æ”¹å–„ç‚¹**: [åˆ†æžå†…å®¹]

## 4. é«˜è©•ä¾¡å°æœ¬ã®å…±é€šè¦ç´ 
- **å…±é€šè¦ç´ 1**: [åˆ†æžå†…å®¹]
- **å…±é€šè¦ç´ 2**: [åˆ†æžå†…å®¹]
- **å…±é€šè¦ç´ 3**: [åˆ†æžå†…å®¹]

## 5. æ”¹å–„ãƒã‚¤ãƒ³ãƒˆã®ç‰¹å®š
- **æ”¹å–„ç‚¹1**: [å…·ä½“çš„æ”¹å–„ææ¡ˆ]
- **æ”¹å–„ç‚¹2**: [å…·ä½“çš„æ”¹å–„ææ¡ˆ]
- **æ”¹å–„ç‚¹3**: [å…·ä½“çš„æ”¹å–„ææ¡ˆ]

## 6. CDã‹ã‚‰ã®ç·åˆãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
[CDã¨ã—ã¦ã®ç·åˆè©•ä¾¡ã¨ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯]

## 7. æ¬¡ãƒ«ãƒ¼ãƒ—ã¸ã®æ”¹å–„ææ¡ˆ
- **Writer1æ”¹å–„ææ¡ˆ**: [å…·ä½“çš„ææ¡ˆ]
- **Writer2æ”¹å–„ææ¡ˆ**: [å…·ä½“çš„ææ¡ˆ]
- **Writer3æ”¹å–„ææ¡ˆ**: [å…·ä½“çš„ææ¡ˆ]
- **è©•ä¾¡åŸºæº–èª¿æ•´**: [å…·ä½“çš„ææ¡ˆ]

EOF

    echo "ðŸ“ˆ çµ±åˆåˆ†æžå®Œäº†ã€‚MDã¸ã®å®Œäº†å ±å‘Šã‚’é€ä¿¡ã—ã¾ã™ã€‚"
    
    # MDã¸ã®å®Œäº†å ±å‘Š
    ../../bb-agent-send.sh md "Loop1å®Œäº†å ±å‘Šï¼šå…¨15æ¡ˆåˆ¶ä½œãƒ»è©•ä¾¡ãƒ»çµ±åˆåˆ†æžãŒå®Œäº†ã—ã¾ã—ãŸã€‚æœ€é«˜è©•ä¾¡å°æœ¬ï¼š[å°æœ¬å]/[ç‚¹æ•°]ç‚¹ã€‚çµ±åˆåˆ†æžçµæžœï¼š${current_loop}/integrated_analysis_${current_loop}.mdã€‚æ¬¡ãƒ«ãƒ¼ãƒ—æ”¹å–„ææ¡ˆï¼š[å…·ä½“çš„ææ¡ˆ]ã€‚"
    
    echo "âœ… Loop1å®Œäº†ã€‚MDã«å®Œäº†å ±å‘Šã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚"
else
    echo "âš ï¸ Personaè©•ä¾¡æœªå®Œäº†ã€‚è©•ä¾¡å®Œäº†ã‚’å¾…æ©Ÿä¸­..."
fi
``` 